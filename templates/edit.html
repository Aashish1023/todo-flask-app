{% extends "base.html" %}

{% block content %}
<h2 class="mb-4">Edit Task</h2>

<form action="{{ url_for('update_task', id=task['id']) }}" method="POST" class="mb-3">
    <div class="mb-3">
        <label class="form-label">Task Title</label>
        <input type="text" name="task" class="form-control" value="{{ task['title'] }}" required>
    </div>

    <div class="mb-3">
        <label class="form-label">Due Date</label>
        <input type="date" name="due_date" value="{{ task['due_date'] or ''}}" class="form-control">
    </div>

    <div class="mb-3">
        <label class="form-label">Reminder (date & time)</label>
        <!-- Use datetime-local so browser provides a time picker; must convert format -->
        <input type="datetime-local" name="reminder_at" 
               value="{% if task['reminder_at'] %}{{ task['reminder_at']|replace(' ', 'T') }}{% endif %}"
               class="form-control">
        <small class="text-muted">Format: YYYY-MM-DD HH:MM (browser converts)</small>
    </div>

    <button class="btn btn-success" type="submit">Update Task</button>
    <a href="{{ url_for('index') }}" class="btn btn-secondary">Cancel</a>
</form>

{% endblock %}